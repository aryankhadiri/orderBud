<html>
    <head>
        {% load static %}
        <link type = "text/css" rel = "stylesheet" href = "{% static 'css/base.css' %}">
    </head>
    <nav>
        <div class="left-nav"><div class="logo"><a href = "/"><img src = "/media/logo/logoWhite.png"></a></div></div>
        <div class="middle-nav">
            <div class="search-section">
                <form action="/searchresult/" method = "GET">
                    <input type = "text" name = "search-field" placeholder="Search for foods and restaurants" id = "search-box">
                    <input type = "submit" value = "Search" id = "search-button">
                </form>
            </div>
        </div>
        <div class="right-nav">
            {% if not user.is_authenticated %}
            <div class="login-drop"><button class = "login" id = "login-nav-button">Login</button>
            
            </div>
            {% else %}
            <div class="messages-link"><a href = "/messages/{{request.user.id}}">Messages</a>
            </div>
            <div class="logout" class = "login-drop">
                <form method = "POST" action = "/logout/">
                    {% csrf_token %}                    
                    <p class = "username-nav">{{user.username}}</p><input type = "submit" value = "Logout" id = "logout-button">
                </form>
            </div>
            {% endif %}
        </div>
    </nav>
    <div class="login-dropdown-menu">
        <form method = "POST" action = "/login/">
            {% csrf_token %}                    
            <input type = "email" class = "username-text" name = "Email-text" placeholder="Email" required>
            <input type = "password" class = "password-text" name = "password-text" placeholder="Password" required>
            <input type="hidden" name="next" value="{{ request.build_absolute_uri }}">
            <input type = "submit" value = "Login" id = "login-button">
            <a href = "/register">Click here to register</a>
        </form>
    </div>
    <div class="messages">
        {% if messages %}
        
        {% for message in messages %}
            {% if message.tags == 'success' %}
            <div class="success-message">
                {{message}}
            </div>
            {% elif message.tags == 'error' %}
            <div class="error-message">
                {{message}}
            </div>
            {% endif %}
            {% endfor %}
            {% endif %}
    </div>
    <div class="main-content">    {%block content %}{% endblock %}
    </div>
    <script src = "{% static 'js/jquery-3.6.0.min.js' %}"></script>
    <script src = "{% static 'js/base.js' %}"></script>
</html>